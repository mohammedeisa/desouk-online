{% extends 'base.html.twig' %}
{% block content %}
    <!-- Page Content -->

    <section id="vendor_homepage" class="inner_page">
        <div class="container">
            <div class="box">
                <div class="row">

                    {{ render(controller('DesoukOnlineMallBundle:Front:vendorHeaderMenu',{'slug':vendor.slug})) }}
                    {{ render(controller('DesoukOnlineMallBundle:Front:vendorMenu',{'slug':vendor.slug})) }}

                    <div class="col-md-9">
                        {% if vendor.images %}

                            <div class="row carousel-holder">

                                <div class="col-md-12">
                                    <div id="carousel-example-generic" class="carousel slide" data-ride="carousel">
                                        <ol class="carousel-indicators">
                                            {% for image in vendor.images %}
                                                <li data-target="#carousel-example-generic"  {{ (loop.index==1)?'class="active"':'' }}
                                                    data-slide-to="{{ loop.index }}"></li>
                                            {% endfor %}
                                        </ol>
                                        <div class="carousel-inner">
                                            {% for image in vendor.images %}
                                                <div class="item {{ (loop.index==1)?'active':'' }}">
                                                    <img class="slide-image" src="{{image.getWebPath()}}"
                                                         alt="">
                                                </div>
                                            {% endfor %}
                                        </div>
                                        <a class="left carousel-control" href="#carousel-example-generic"
                                           data-slide="prev">
                                            <span class="glyphicon glyphicon-chevron-left"></span>
                                        </a>
                                        <a class="right carousel-control" href="#carousel-example-generic"
                                           data-slide="next">
                                            <span class="glyphicon glyphicon-chevron-right"></span>
                                        </a>
                                    </div>
                                </div>


                            </div>
                        {% endif %}
                        <div class="col-md-12 vendor_upper_data">
                            <div id="vendor_social">
                                {% include 'horizontal_social.html.twig' %}
                            </div>
                        </div>
                        {% for category in vendor.getVendorProductCategories if category.isInHome %}
                            <div class="row">
                                <div class="col-sm-12 col-lg-12 col-md-12">

                                    <div class="left">
                                        <h3>
                                            <a class=""
                                               href="{{ path('vendor_product_category',{'slug':category.slug}) }}"
                                               role="button">{{ category.title }}</a>
                                        </h3>
                                    </div>
                                </div>
                                {% for product in category.products if product.isInHome %}
                                        <div class="col-sm-4 col-lg-4 col-md-4">
                                            <div class="thumbnail">
                                                <a href="{{ path('vendor_product',{'slug':product.slug}) }}">
                                                    <img src="{{product.getWebPath()}}" alt="">
                                                </a>

                                            <div class="caption">
                                                <h4 class="pull-left">
                                                    {{ product.price }} جنية
                                                </h4>
                                                <h4>
                                                    <a href="{{ path('vendor_product',{'slug':product.slug}) }}">{{ product.name }}</a>
                                                </h4>

                                                {{ product.description|striptags|slice(0, 90) }}
                                                <a href="{{ path('vendor_product',{'slug':product.slug}) }}" class="">
                                                    المزيد </a>
                                            </div>
                                            <div class="desouk_online_rating">
                                                {{ ("vendor_product_"~product.id)|show_rating|raw }}
                                            </div>
                                        </div>
                                    </div>
                                {% endfor %}
                                <div class="row"></div>
                                <div class="col-sm-2 col-lg-2 col-md-2 pull-left">

                                    <a class="pull-left btn btn-primary btn-lg"
                                       href="{{ path('vendor_product_category',{'slug':category.slug}) }}"
                                       role="button">المزيد</a>
                                </div>
                            </div>
                            <hr>
                        {% endfor %}
                    </div>
                </div>
            </div>
        </div>
        <!-- /.container -->
    </section>

{% endblock %}